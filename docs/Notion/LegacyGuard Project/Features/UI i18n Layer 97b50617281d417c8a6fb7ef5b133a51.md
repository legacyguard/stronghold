# UI i18n Layer

Docs: ARCH 02 — Architektúra: Multi‑domain, Multi‑jurisdiction, Multi‑language (../Docs%2025dc6e821aa8460ba3fc3a90b5d86872/ARCH%2002%20%E2%80%94%20Architekt%C3%BAra%20Multi%E2%80%91domain,%20Multi%E2%80%91jurisdi%20b203472110454b5281b7a15600210aaa.md), ADR 001 — Oddelenie právneho rámca od jazyka (../Docs%2025dc6e821aa8460ba3fc3a90b5d86872/ADR%20001%20%E2%80%94%20Oddelenie%20pr%C3%A1vneho%20r%C3%A1mca%20od%20jazyka%207c4612f42c0a4454956f58a8da6427b0.md), I18N 03 — How‑to na Pridanie novej krajiny (../Docs%2025dc6e821aa8460ba3fc3a90b5d86872/I18N%2003%20%E2%80%94%20How%E2%80%91to%20na%20Pridanie%20novej%20krajiny%20315ea40407a14b719aa8a3e526ac477d.md), JUR 02 — Spec — WillGeneratorWizard: načítanie pravidiel a validácie (../Docs%2025dc6e821aa8460ba3fc3a90b5d86872/JUR%2002%20%E2%80%94%20Spec%20%E2%80%94%20WillGeneratorWizard%20na%C4%8D%C3%ADtanie%20prav%20b32f9217d6dd4d89aaaa904fdbf13fab.md), I18N 05 — Decision Record — Výber i18next pre UI preklady (../Docs%2025dc6e821aa8460ba3fc3a90b5d86872/I18N%2005%20%E2%80%94%20Decision%20Record%20%E2%80%94%20V%C3%BDber%20i18next%20pre%20UI%20p%20e82ee57865b94dd195fc14766c5f10aa.md)
Goal: Preklápať celé UI podľa currentLanguage cez i18next a namespaces.
Status: Idea

### Cieľ

Poskytnúť robustnú vrstvu pre preklady UI bez väzby na právny obsah.

### Scope

- i18next inicializácia a lazy loading translation.json
- Namespaces pre moduly (wizard, dashboard, buttons)
- Detekcia a prepínanie jazyka

### Akceptačné kritériá

- Minimálne jazyky: sk, cs, en
- 100% pokrytie textov v pilotných moduloch

### Language Switcher — špecifikácia

- Zdroj pravdy: I18N 02 — Language Matrix per Domain
- Zobrazenie: iba jazyky dostupné pre aktuálnu doménu
- Predvolený výber: browser language ak je podporovaný, inak primary pre doménu
- Zmena jazyka je okamžitá, bez reloadu, zachováva stav a rozpracované formuláre
- Upozornenia: ak chýbajú kľúče v aktuálnom namespaci, loguj a fallback na `common`
- Ukladanie preferencie: persistuj posledný zvolený jazyk (localStorage) a rešpektuj ho pred navigator.language

### API kontrakt

- getSupportedLanguages(host): vracia pole dostupných jazykov pre doménu
- getPrimaryLanguage(host): vracia primary jazyk pre doménu
- setLanguage(lang): nastaví i18next jazyk, načíta chýbajúce namespaces a emituje event

### Akceptačné kritériá (Language Switcher)

- Switcher nikdy neponúkne jazyk mimo matrixu pre danú doménu
- Po prepnutí sa aktualizujú všetky UI texty a zachová sa stav wizardu
- Preferencia používateľa pretrváva medzi reláciami